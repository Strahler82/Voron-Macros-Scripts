[menu __main __ercf]
index:11
type: list
name: ERCF
enable: True

[menu __main __ercf __home]
type: command
name: Home
gcode: 
  ERCF_HOME

[menu __main __ercf __unlock]
type: command
name: Unlock
gcode: 
  ERCF_UNLOCK

[menu __main __ercf __eject]
type: command
name: Eject
gcode: 
  ERCF_EJECT

[menu __main __ercf __tool]
type: list
name: Tool

[menu __main __ercf __tool __load]
name:  {("Load T%d" % (menu.input)) if (menu.input < 9 and menu.input > -1) else "exit"}
type: input
input: { printer["gcode_macro _ERCF_SELECT_TOOL"].tool_selected|int if printer["gcode_macro _ERCF_SELECT_TOOL"].tool_selected|int > -1 else 0 }
input_min: 0
input_max: 9
input_step: 1
realtime: False
gcode:
  {% if menu.input < 9 and menu.input > -1 %}
    T{menu.input|int}
    M117 T{menu.input|int}
  {% endif %}
  {(menu.exit(force=True))}

[menu __main __ercf __tool __select]
name:  {("Select T%d" % (menu.input)) if (menu.input < 9 and menu.input > -1) else "exit"}
type: input
input: { printer["gcode_macro _ERCF_SELECT_TOOL"].tool_selected|int if printer["gcode_macro _ERCF_SELECT_TOOL"].tool_selected|int > -1 else 0 }
input_min: 0
input_max: 9
input_step: 1
realtime: False
gcode:
  {% if menu.input < 9 and menu.input > -1 %}
    _ERCF_SELECT_TOOL TOOL={menu.input|int}
    M117 T{menu.input|int}
  {% endif %}
  {(menu.exit(force=True))}

[menu __main __ercf __maketip]
type: command
name: Make Tip
gcode: 
  ERCF_MAKE_FILAMENT_TIP

[menu __main __ercf __motors_off]
type: command
name: Motors Off
gcode: 
  _ERCF_SERVO_UP
  _ERCF_MOTORS_OFF

[menu __main __ercf __test]
type: command
name: Test All
gcode: 
  ERCF_TEST_ALL
